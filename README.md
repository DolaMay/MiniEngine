# Mini-Engine

一个迷你的图形引擎 .

本项目将完成基本的光栅化流程 .

# 成像方法

## 光栅化

光栅化成像方法一直是实时渲染中广泛应用的一种技术 , 流程如下 .

- 输入N个三角形/直线坐标
- 坐标映射(世界->摄像机->视口)
- 顶点着色(插值)
- 离散化+深度检测(3D->2D)
- 片段着色(处理光照,纹理)
- 阴影(以光源为坐标进行一次深度检测)
- 显示图像

## 光线追踪

光线追踪的成像方法质量更高 , 当然开销也会更大 , 本项目暂不做实现 .

- 摄像机为视口上每个像素发射感受光
- 使用高效筛选三角形面的方法(包围盒)寻找碰撞面
- 通过解线性方程组计算碰撞点,并判断是否位于三角形内部
- 判断碰撞点是否可被光源照射,并统计可见点信息
- 根据碰撞点的材质计算反射和折射光
- 将所有可见点信息累加作为最初像素的信息
- 显示图像

# 模块划分

```
- math              // 数学相关
    - vec.hpp       // 提供向量(也可视为点)运算
    - utils.hpp     // 提供常用的数学相关函数
    - mat.hpp       // 提供矩阵运算
- engine            // 引擎相关
    - model.hpp     // 储存顶点,三角形数据,可从文件加载
    - shader.hpp    // 着色器,包括顶点着色器和片段着色器
    - render.hpp    // 根据摄像机+光源+模型信息通过光栅化成像输出为图片
- view              // 显示相关
    - color.hpp     // 提供颜色运算
    - image.hpp     // 储存像素,作为引擎的输出
    - gui.hpp       // 维护维护摄像机位置,实时渲染引擎输出并显示帧率
- main.cpp          // 入口文件,负责程序参数的解析
```